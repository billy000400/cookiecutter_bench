apiVersion: v1
kind: Pod
metadata:
    name: hbb-train
spec:
    containers:
    -   name: vol-ct
        image: jmduarte/hbb_interaction_network
        command:
          - "/bin/bash"
          - "-c"
          - >
            cd /cookiecutter-bench &&
            git clone https://github.com/FAIR4HEP/hbb_interaction_network.git &&
            cd hbb_interaction_network &&
            git checkout process_data &&
            pip install --user -r requirements.txt &&
            cd src/model &&
            python3 train_model.py
        volumeMounts:
        -   mountPath: /cookiecutter-bench
            name: cookiecutter-bench
    restartPolicy: Never
    volumes:
        - name: cookiecutter-bench
          persistentVolumeClaim:
            claimName: cookiecutter-bench 
